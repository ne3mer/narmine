# ุฑุงูููุง ุนุจโุงุจ - ERR_CONNECTION_REFUSED

## ูุดฺฉู: `ERR_CONNECTION_REFUSED` ุฏุฑ ูพูุฑุช 5050

ุงู ุฎุทุง ุจู ุงู ูุนู ุงุณุช ฺฉู **ุณุฑูุฑ ุจฺฉโุงูุฏ ุฏุฑ ุญุงู ุงุฌุฑุง ูุณุช**.

## ุฑุงู ุญู:

### 1. ุฑุงูโุงูุฏุงุฒ ุณุฑูุฑ ุจฺฉโุงูุฏ

ุฏุฑ ุชุฑููุงูุ ุจู ูพูุดู `backend` ุจุฑูุฏ ู ุณุฑูุฑ ุฑุง ุงุฌุฑุง ฺฉูุฏ:

```bash
cd backend
npm run dev
```

ุณุฑูุฑ ุจุงุฏ ุฑู `http://localhost:5050` ุงุฌุฑุง ุดูุฏ.

### 2. ุจุฑุฑุณ ุงุชุตุงู ุจู MongoDB

ุณุฑูุฑ ุจฺฉโุงูุฏ ูุงุฒ ุจู MongoDB ุฏุงุฑุฏ. ูุทูุฆู ุดูุฏ ฺฉู:

- MongoDB ูุตุจ ู ุฏุฑ ุญุงู ุงุฌุฑุง ุงุณุช
- ูุชุบุฑ ูุญุท `MONGODB_URI` ุชูุธู ุดุฏู ุงุณุช (ูพุดโูุฑุถ: `mongodb://localhost:27017/gameclub`)

ุจุฑุง ุฑุงูโุงูุฏุงุฒ MongoDB:
```bash
# macOS (ุจุง Homebrew)
brew services start mongodb-community

# ุง ุจุง Docker
docker run -d -p 27017:27017 --name mongodb mongo:latest
```

### 3. ุจุฑุฑุณ ูุชุบุฑูุง ูุญุท

ุฏุฑ ูพูุดู `backend` ฺฉ ูุงู `.env` ุงุฌุงุฏ ฺฉูุฏ (ุงฺฏุฑ ูุฌูุฏ ูุฏุงุฑุฏ):

```env
NODE_ENV=development
PORT=5050
MONGODB_URI=mongodb://localhost:27017/gameclub
CLIENT_URL=http://localhost:3000
JWT_SECRET=your-secret-key-here-min-32-chars
ADMIN_API_KEY=912A3060859n
```

### 4. ุจุฑุฑุณ ูพูุฑุช

ุงฺฏุฑ ูพูุฑุช 5050 ุฏุฑ ุญุงู ุงุณุชูุงุฏู ุงุณุชุ ูโุชูุงูุฏ:

- ูพูุฑุช ุฑุง ุฏุฑ `.env` ุชุบุฑ ุฏูุฏ
- ุง ูุฑุขูุฏ ุงุณุชูุงุฏูโฺฉููุฏู ุงุฒ ูพูุฑุช ุฑุง ูุชููู ฺฉูุฏ:

```bash
# ูพุฏุง ฺฉุฑุฏู ูุฑุขูุฏ ุงุณุชูุงุฏูโฺฉููุฏู ุงุฒ ูพูุฑุช 5050
lsof -ti:5050

# ูุชููู ฺฉุฑุฏู ูุฑุขูุฏ
kill -9 $(lsof -ti:5050)
```

### 5. ุจุฑุฑุณ ูุงฺฏโูุง ุณุฑูุฑ

ุจุนุฏ ุงุฒ ุงุฌุฑุง `npm run dev`ุ ุจุงุฏ ูพุงู ุฒุฑ ุฑุง ุจุจูุฏ:

```
๐ API server listening on http://localhost:5050
```

ุงฺฏุฑ ุฎุทุง ูโุจูุฏุ ุขู ุฑุง ุจุฑุฑุณ ฺฉูุฏ.

### 6. ุชุณุช ุงุชุตุงู

ุจุนุฏ ุงุฒ ุฑุงูโุงูุฏุงุฒ ุณุฑูุฑุ ูโุชูุงูุฏ ุจุง ุงู ุฏุณุชูุฑ ุชุณุช ฺฉูุฏ:

```bash
curl http://localhost:5050/health
```

ุจุงุฏ ูพุงุณุฎ ุฒุฑ ุฑุง ุฏุฑุงูุช ฺฉูุฏ:
```json
{"status":"ok","timestamp":"..."}
```

## ูฺฉุงุช ููู:

1. **ููุดู ุงุจุชุฏุง ุจฺฉโุงูุฏ ุฑุง ุฑุงูโุงูุฏุงุฒ ฺฉูุฏ** ูุจู ุงุฒ ุงุฌุฑุง ูุฑุงูุชโุงูุฏ
2. **MongoDB ุจุงุฏ ุฏุฑ ุญุงู ุงุฌุฑุง ุจุงุดุฏ** ูุจู ุงุฒ ุฑุงูโุงูุฏุงุฒ ุจฺฉโุงูุฏ
3. **ูพูุฑุชโูุง ุฑุง ุจุฑุฑุณ ฺฉูุฏ** - ูุทูุฆู ุดูุฏ ฺฉู ูพูุฑุช 5050 ุขุฒุงุฏ ุงุณุช
4. **ูุชุบุฑูุง ูุญุท ุฑุง ุจุฑุฑุณ ฺฉูุฏ** - ูุงู `.env` ุจุงุฏ ุฏุฑุณุช ุชูุธู ุดุฏู ุจุงุดุฏ

## ุฏุณุชูุฑุงุช ุณุฑุน:

```bash
# ุฑุงูโุงูุฏุงุฒ MongoDB (macOS)
brew services start mongodb-community

# ุฑุงูโุงูุฏุงุฒ ุจฺฉโุงูุฏ
cd backend && npm run dev

# ุฑุงูโุงูุฏุงุฒ ูุฑุงูุชโุงูุฏ (ุฏุฑ ุชุฑููุงู ุฏฺฏุฑ)
cd frontend && npm run dev
```

